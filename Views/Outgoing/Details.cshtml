@model InventoryManagementSystem.Models.Outgoing
@{
    ViewData["Title"] = "Outgoing Details";
    Layout = "_DashboardLayout";
}

<div class="container">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h1>Outgoing Details</h1>
        <div style="display: flex; gap: 10px;">
            <a href="/Outgoing/History" style="background-color: #6c757d; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px;">Back to History</a>
        </div>
    </div>

    <div style="background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); max-width: 700px;">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div>
                <h3 style="color: #2d5a5a; margin-top: 0; border-bottom: 2px solid #2d5a5a; padding-bottom: 10px;">Outgoing Information</h3>
                <p><strong>Date:</strong> @Model.OutgoingDate.ToString("yyyy-MM-dd HH:mm")</p>
                <p><strong>Reason:</strong> 
                    @{
                        var reasonColor = Model.Reason switch
                        {
                            "Sale" => "#28a745",
                            "Damage" => "#dc3545",
                            "Transfer" => "#17a2b8",
                            "Return" => "#ffc107",
                            _ => "#6c757d"
                        };
                    }
                    <span style="background: @reasonColor; color: white; padding: 4px 12px; border-radius: 4px; font-size: 14px;">@Model.Reason</span>
                </p>
                <p><strong>Quantity:</strong> @Model.Quantity</p>
                @if (Model.OutgoingPrice.HasValue)
                {
                    <p><strong>Unit Price:</strong> $@Model.OutgoingPrice.Value.ToString("N2")</p>
                }
                @if (Model.TotalAmount.HasValue)
                {
                    <p><strong>Total Amount:</strong> $@Model.TotalAmount.Value.ToString("N2")</p>
                }
            </div>
            <div>
                <h3 style="color: #2d5a5a; margin-top: 0; border-bottom: 2px solid #2d5a5a; padding-bottom: 10px;">Product Information</h3>
                <p><strong>Product Name:</strong> @Model.Product?.Name</p>
                <p><strong>SKU:</strong> @Model.Product?.SKU</p>
                <p><strong>Category:</strong> @(Model.Product?.Category ?? "N/A")</p>
                <p><strong>Current Stock:</strong> @Model.Product?.QuantityInStock</p>
            </div>
        </div>

        @if (!string.IsNullOrEmpty(Model.Recipient))
        {
            <div style="margin-bottom: 20px;">
                <h3 style="color: #2d5a5a; border-bottom: 2px solid #2d5a5a; padding-bottom: 10px;">Recipient</h3>
                <p>@Model.Recipient</p>
            </div>
        }

        @if (!string.IsNullOrEmpty(Model.Notes))
        {
            <div style="margin-bottom: 20px;">
                <h3 style="color: #2d5a5a; border-bottom: 2px solid #2d5a5a; padding-bottom: 10px;">Notes</h3>
                <p style="background: #f8f9fa; padding: 15px; border-radius: 4px;">@Model.Notes</p>
            </div>
        }

        @if (Model.OrderId.HasValue)
        {
            <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #ddd;">
                <p><strong>Related Order:</strong> Order #@Model.OrderId</p>
            </div>
        }
    </div>
</div>


