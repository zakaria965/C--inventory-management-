@model InventoryManagementSystem.Controllers.ContactViewModel
@{
    var role = Context.Session.GetString("UserRole") ?? "User";
    ViewData["Title"] = "Contact Us";
    Layout = role.ToLower() == "user" ? "_UserDashboardLayout" : "_DashboardLayout";
}

<div class="container">
    <div style="max-width: 800px; margin: 0 auto;">
        <div style="text-align: center; margin-bottom: 40px;">
            <h1 style="color: #2d5a5a; margin-bottom: 10px;">Contact Us</h1>
            <p style="color: #666; font-size: 18px;">We'd love to hear from you! Send us a message and we'll respond as soon as possible.</p>
        </div>

        @if (TempData["Success"] != null)
        {
            <div class="alert alert-success" role="alert" style="margin-bottom: 30px; padding: 20px; border-radius: 10px; background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%); border-left: 4px solid #28a745;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <i class="fas fa-check-circle" style="font-size: 24px; color: #28a745;"></i>
                    <div>
                        <strong style="color: #155724; font-size: 18px;">Success!</strong>
                        <p style="margin: 5px 0 0 0; color: #155724;">@TempData["Success"]</p>
                    </div>
                </div>
            </div>
        }

        <div style="background: white; padding: 40px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
            <form asp-action="Index" method="post" id="contactForm">
                @Html.AntiForgeryToken()
                <div asp-validation-summary="ModelOnly" class="text-danger" style="margin-bottom: 20px; padding: 15px; background: #fff5f5; border-left: 4px solid #dc3545; border-radius: 4px;"></div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <div>
                        <label asp-for="CustomerName" style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">
                            <i class="fas fa-user" style="margin-right: 8px; color: #2d5a5a;"></i>Customer Name <span style="color: #dc3545;">*</span>
                        </label>
                        <input asp-for="CustomerName" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px; transition: all 0.3s;" placeholder="Enter your full name" />
                        <span asp-validation-for="CustomerName" class="text-danger"></span>
                    </div>

                    <div>
                        <label asp-for="PhoneNumber" style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">
                            <i class="fas fa-phone" style="margin-right: 8px; color: #2d5a5a;"></i>Phone Number <span style="color: #dc3545;">*</span>
                        </label>
                        <input asp-for="PhoneNumber" type="tel" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px; transition: all 0.3s;" placeholder="Enter your phone number" />
                        <span asp-validation-for="PhoneNumber" class="text-danger"></span>
                    </div>
                </div>

                <div style="margin-bottom: 20px;">
                    <label asp-for="EmailAddress" style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">
                        <i class="fas fa-envelope" style="margin-right: 8px; color: #2d5a5a;"></i>Email Address <span style="color: #dc3545;">*</span>
                    </label>
                    <input asp-for="EmailAddress" type="email" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px; transition: all 0.3s;" placeholder="Enter your email address" />
                    <span asp-validation-for="EmailAddress" class="text-danger"></span>
                </div>

                <div style="margin-bottom: 20px;">
                    <label asp-for="Subject" style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">
                        <i class="fas fa-tag" style="margin-right: 8px; color: #2d5a5a;"></i>Subject <span style="color: #dc3545;">*</span>
                    </label>
                    <input asp-for="Subject" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px; transition: all 0.3s;" placeholder="What is this message about?" />
                    <span asp-validation-for="Subject" class="text-danger"></span>
                </div>

                <div style="margin-bottom: 30px;">
                    <label asp-for="MessageContent" style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">
                        <i class="fas fa-comment-alt" style="margin-right: 8px; color: #2d5a5a;"></i>Message Content <span style="color: #dc3545;">*</span>
                    </label>
                    <textarea asp-for="MessageContent" rows="6" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px; font-family: inherit; resize: vertical; transition: all 0.3s;" placeholder="Enter your message here..."></textarea>
                    <span asp-validation-for="MessageContent" class="text-danger"></span>
                </div>

                <div style="display: flex; gap: 15px; justify-content: center;">
                    <button type="submit" style="background: linear-gradient(135deg, #2d5a5a 0%, #3d7a7a 100%); color: white; padding: 15px 40px; border: none; border-radius: 8px; cursor: pointer; font-size: 18px; font-weight: 600; box-shadow: 0 4px 15px rgba(45, 90, 90, 0.3); transition: all 0.3s;">
                        <i class="fas fa-paper-plane" style="margin-right: 10px;"></i>Send Message
                    </button>
                    <button type="reset" style="background: #f8f9fa; color: #6c757d; padding: 15px 40px; border: 2px solid #dee2e6; border-radius: 8px; cursor: pointer; font-size: 18px; font-weight: 600; transition: all 0.3s;">
                        <i class="fas fa-redo" style="margin-right: 10px;"></i>Clear Form
                    </button>
                </div>
            </form>
        </div>

        <div style="margin-top: 40px; padding: 30px; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-radius: 12px; text-align: center;">
            <h3 style="color: #2d5a5a; margin-bottom: 20px;">Get in Touch</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                <div>
                    <i class="fas fa-envelope" style="font-size: 24px; color: #2d5a5a; margin-bottom: 10px;"></i>
                    <p style="margin: 0; color: #666;">Email Us</p>
                    <p style="margin: 5px 0 0 0; font-weight: 600; color: #2d5a5a;">support@inventory.com</p>
                </div>
                <div>
                    <i class="fas fa-phone" style="font-size: 24px; color: #2d5a5a; margin-bottom: 10px;"></i>
                    <p style="margin: 0; color: #666;">Call Us</p>
                    <p style="margin: 5px 0 0 0; font-weight: 600; color: #2d5a5a;">+1 (555) 123-4567</p>
                </div>
                <div>
                    <i class="fas fa-clock" style="font-size: 24px; color: #2d5a5a; margin-bottom: 10px;"></i>
                    <p style="margin: 0; color: #666;">Business Hours</p>
                    <p style="margin: 5px 0 0 0; font-weight: 600; color: #2d5a5a;">Mon-Fri: 9AM-5PM</p>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('contactForm');
            const inputs = form.querySelectorAll('input, textarea');

            // Add focus effects
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    this.style.borderColor = '#2d5a5a';
                    this.style.boxShadow = '0 0 0 3px rgba(45, 90, 90, 0.1)';
                });

                input.addEventListener('blur', function() {
                    this.style.borderColor = '#e0e0e0';
                    this.style.boxShadow = 'none';
                });
            });

            // Clear form after successful submission
            @if (TempData["Success"] != null)
            {
                <text>
                setTimeout(function() {
                    form.reset();
                }, 100);
                </text>
            }

            // Phone number formatting
            const phoneInput = document.querySelector('input[type="tel"]');
            if (phoneInput) {
                phoneInput.addEventListener('input', function(e) {
                    // Allow only numbers, spaces, dashes, and parentheses
                    this.value = this.value.replace(/[^\d\s\-\(\)]/g, '');
                });
            }
        });
    </script>
}

<style>
    .alert {
        padding: 12px 20px;
        margin-bottom: 20px;
        border-radius: 4px;
    }
    .alert-success {
        color: #155724;
        background-color: #d4edda;
        border-color: #c3e6cb;
    }
    .text-danger {
        color: #dc3545;
        font-size: 14px;
        margin-top: 5px;
        display: block;
    }
    button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15) !important;
    }
    button:active {
        transform: translateY(0);
    }
    input:focus, textarea:focus {
        outline: none;
    }
</style>


